# 再次到达的星空～新生之芽与抉择之歌，以希望之躯 (Viewer4)

这是一个使用 [Electron](https://www.electronjs.org/) 构建的桌面应用程序，旨在帮助您以随机顺序浏览本地文件夹中的图片和视频。如果您有大量的图片或视频素材，并希望以一种新颖、随机的方式来回顾它们，这个工具会非常有用。


## ✨ 功能特性

*   **多文件夹源**: 您可以添加一个或多个文件夹作为媒体文件的来源。
*   **灵活的文件夹管理**: 随时在列表中添加或删除文件夹，应用会自动更新文件列表。
*   **递归扫描**: 自动扫描您添加的文件夹及其所有子文件夹，不错过任何一个角落。
*   **随机浏览**: "下一张/下一个" 按钮会从您的媒体库中随机挑选一个文件进行展示。
*   **模式过滤**:
    *   **混合模式**: 随机展示图片和视频。
    *   **仅图片模式**: 只在图片文件中进行随机挑选。
    *   **仅视频模式**: 只在视频文件中进行随机挑选。
*   **广泛的格式支持**: 支持所有常见的图片格式 (`.jpg`, `.png`, `.gif`, `.webp` 等) 和视频格式 (`.mp4`, `.mkv`, `.webm` 等)。
*   **简洁的用户界面**: 左侧为控制面板，右侧为媒体展示区，操作直观。

---

## 🚀 安装与运行

确保您的电脑上已经安装了 [Node.js](https://nodejs.org/) (它会自动包含 npm)。

1.  **克隆或下载项目**
    将本项目下载或使用 Git 克隆到您的本地机器上。
    ```bash
    git clone <your-repository-url>
    ```

2.  **进入项目目录**
    ```bash
    cd viewer4
    ```

3.  **安装依赖**
    在项目根目录下打开终端，运行以下命令来安装所有必需的依赖项。
    ```bash
    npm install
    ```

4.  **启动应用**
    安装完成后，运行以下命令来启动应用程序。
    ```bash
    npm start
    ```

---

## 📖 使用指南

1.  **添加文件夹**:
    *   启动应用后，点击左侧面板的 **"添加文件夹"** 按钮。
    *   在弹出的对话框中，选择一个或多个包含媒体文件的文件夹。

2.  **管理文件夹列表**:
    *   您添加的文件夹会显示在左侧列表中。
    *   若要移除某个文件夹，只需点击它旁边红色的 **"X"** 按钮。
    *   每次添加或删除文件夹后，应用都会自动重新扫描并更新文件总数。

3.  **选择过滤模式**:
    *   在 "过滤模式" 区域，根据您的喜好选择 **"混合"**、**"仅图片"** 或 **"仅视频"**。
    *   切换模式后，文件计数器会更新以显示当前模式下的可用文件数量。

4.  **开始随机浏览**:
    *   点击醒目的 **"下一张 / 下一个"** 按钮。
    *   右侧的查看器区域会随机显示一个符合当前过滤模式的媒体文件。
    *   文件的完整路径会显示在查看器底部。

---

## 🛠️ 项目结构

```
random-media-viewer/
├── package.json     # 项目配置和依赖
├── main.js          # Electron 主进程 (处理窗口创建、文件系统交互)
├── preload.js       # 预加载脚本 (主进程和渲染进程之间的安全桥梁)
├── index.html       # 应用的 HTML 结构 (UI 界面)
├── renderer.js      # 渲染进程的 JavaScript (处理用户交互和 UI 更新)
└── styles.css       # 应用的 CSS 样式
```

---

## 💡 未来可能的改进

*   **快捷键支持**: 例如，使用左右箭头切换上一个/下一个媒体。
*   **会话保持**: 关闭应用后能记住上次添加的文件夹列表。
*   **幻灯片模式**: 自动定时播放下一个随机文件。
*   **拖放支持**: 支持将文件夹直接拖拽到窗口中进行添加。
*   **更完善的错误处理**: 例如处理文件损坏或无法访问的情况。

---

## 📄 许可证

本项目采用 MIT 许可证。